/* ================================
   SETTINGS PAGE REFINEMENT
   Only affects #viewSettings
   ================================ */

/* 包裹整个 Settings 的滚动区域 */
#viewSettings {
    max-width: 100%;
}

/* -------------------------------
   1. Settings 表格滚动支持
--------------------------------*/
#viewSettings .settings-table-wrapper {
    overflow-x: auto;
    margin-top: var(--spacing-lg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    background-color: var(--color-bg-primary);
    box-shadow: var(--shadow-sm);
}

/* 让 table 不压缩内容，支持横向滚动 */
#viewSettings table {
    width: max-content;
    min-width: 100%;
    border-collapse: separate;
    border-spacing: 0;
}

/* 表头固定淡灰 */
#viewSettings th {
    background-color: var(--color-bg-tertiary);
    position: sticky;
    top: 0;
    z-index: 2;
    font-weight: 600;
    color: var(--color-text-secondary);
    text-transform: uppercase;
    font-size: var(--font-size-xs);
    letter-spacing: 0.5px;
    padding: var(--spacing-lg);
}

#viewSettings td {
    padding: var(--spacing-lg);
    border-bottom: 1px solid var(--color-border-light);
}

/* -------------------------------
   2. 输入框统一样式，但不挤压布局
--------------------------------*/
#viewSettings input,
#viewSettings select {
    width: 180px;
    padding: var(--spacing-sm) var(--spacing-md);
    box-sizing: border-box;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    background-color: var(--color-bg-secondary);
    transition: all var(--transition-base);
}

#viewSettings input:focus,
#viewSettings select:focus {
    outline: none;
    border-color: var(--color-primary);
    background-color: var(--color-bg-primary);
    box-shadow: 0 0 0 3px var(--color-primary-light);
}

#viewSettings input.model-key-input,
#viewSettings input.role-key-input {
    width: 140px;
}

/* 显示名稍宽一点 */
#viewSettings .model-display-input,
#viewSettings .role-display-input {
    width: 140px;
}

/* URL 和 model 名需要更宽 */
#viewSettings .model-baseurl-input,
#viewSettings .model-name-input {
    width: 140px;
}

/* delete 按钮较窄，且居中*/
#viewSettings td:has(.delete-model-btn),
#viewSettings td:has(.delete-role-btn) {
    text-align: center;
    width: 40px;
}

/* temperature 较窄 */
#viewSettings .model-temp-input {
    width: 80px;
}

/* role 关联的 model 下拉框 */
#viewSettings .role-model-select {
    width: 140px;
}

#viewSettings .role-user-input {
    width: 220px;
}

/* roles 的 prompt 文本区域占大空间 */
#viewSettings textarea {
    width: 360px;
    min-height: 90px;
    max-height: 400px;
    resize: vertical;
    overflow-y: auto;
    font-family: var(--font-family);
    font-size: var(--font-size-sm);
    padding: var(--spacing-md);
    border: 1px solid var(--color-border);
    background: var(--color-bg-secondary);
    border-radius: var(--radius-md);
    transition: all var(--transition-base);
    line-height: 1.6;
}

#viewSettings textarea:focus {
    outline: none;
    border-color: var(--color-primary);
    background-color: var(--color-bg-primary);
    box-shadow: 0 0 0 3px var(--color-primary-light);
}

/* -------------------------------
   3. 表格 Hover 提升可读性
--------------------------------*/
#viewSettings tbody tr {
    transition: background-color var(--transition-fast);
}

#viewSettings tbody tr:hover {
    background-color: var(--color-bg-secondary);
}

#viewSettings tbody tr:last-child td {
    border-bottom: none;
}

/* -------------------------------
   4. 删除按钮颜色区分
--------------------------------*/
#viewSettings .delete-model-btn,
#viewSettings .delete-role-btn {
    background-color: var(--color-danger);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-xs);
    font-weight: 600;
    transition: all var(--transition-base);
    box-shadow: var(--shadow-sm);
}

#viewSettings .delete-model-btn:hover,
#viewSettings .delete-role-btn:hover {
    background-color: #dc2626;
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

/* -------------------------------
   5. DefaultModel 下拉框美化
--------------------------------*/
#defaultModelSelect {
    padding: var(--spacing-sm) var(--spacing-md);
    margin-left: var(--spacing-sm);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background-color: var(--color-bg-secondary);
    transition: all var(--transition-base);
}

#defaultModelSelect:focus {
    outline: none;
    border-color: var(--color-primary);
    background-color: var(--color-bg-primary);
    box-shadow: 0 0 0 3px var(--color-primary-light);
}

/* ============================================
   美化所有出现在 #viewSettings 区域里的滚动条
   ============================================ */

#viewSettings *::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

/* 滚动条底槽（背景轨道） */
#viewSettings *::-webkit-scrollbar-track {
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-sm);
}

/* 滚动条滑块（可拖动的部分） */
#viewSettings *::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: var(--radius-sm);
    transition: background var(--transition-base);
}

/* 滑块 hover 效果 */
#viewSettings *::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-tertiary);
}

/* 滑块 active（正在拖拽时） */
#viewSettings *::-webkit-scrollbar-thumb:active {
    background: var(--color-text-secondary);
}

/* -------------------------------
   6. 按钮组美化
--------------------------------*/
#viewSettings button[type="button"] {
    margin-bottom: var(--spacing-md);
}

#addModelBtn,
#addRoleBtn,
#saveSettingsBtn {
    background-color: var(--color-primary);
    color: white;
    border: none;
    padding: var(--spacing-md) var(--spacing-xl);
    border-radius: var(--radius-md);
    font-weight: 600;
    box-shadow: var(--shadow-sm);
}

#addModelBtn:hover,
#addRoleBtn:hover,
#saveSettingsBtn:hover {
    background-color: var(--color-primary-hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

#saveSettingsBtn {
    background-color: var(--color-success);
    margin-top: var(--spacing-xl);
}

#saveSettingsBtn:hover {
    background-color: #059669;
}
